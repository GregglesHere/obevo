<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017-05-15 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Obevo &#x2013; Command-line API</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                              <a href="./" id="bannerLeft">
                Obevo
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-05-15</span>
                  &nbsp;| <span id="projectVersion">Version: 6.0.1</span>
                      </div>
            <div class="xright">                    <a href=".." title="Product Link">Product Link</a>
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
                                <h5>Getting Started</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Intro">Intro</a>
            </li>
                  <li class="none">
                          <a href="overview.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="setup.html" title="Setup your Distribution">Setup your Distribution</a>
            </li>
                  <li class="none">
                          <a href="support.html" title="Help and Support">Help and Support</a>
            </li>
          </ul>
                       <h5>Technical Documentation</h5>
                  <ul>
                  <li class="none">
                          <a href="db-project-structure.html" title="DB Project Structure">DB Project Structure</a>
            </li>
                  <li class="none">
                          <a href="environment-management.html" title="Environment Management">Environment Management</a>
            </li>
                  <li class="none">
                          <a href="permission-management.html" title="Permission Management">Permission Management</a>
            </li>
                  <li class="none">
                          <a href="error-handling.html" title="Error-Handling">Error-Handling</a>
            </li>
                  <li class="none">
            <strong>Command-line API</strong>
          </li>
                  <li class="none">
                          <a href="java-api.html" title="Java API">Java API</a>
            </li>
                  <li class="none">
                          <a href="maven-api.html" title="Maven plugin API">Maven plugin API</a>
            </li>
                  <li class="none">
                          <a href="gradle-api.html" title="Gradle API">Gradle API</a>
            </li>
                  <li class="none">
                          <a href="faq.html" title="FAQs">FAQs</a>
            </li>
          </ul>
                       <h5>Advanced Topics</h5>
                  <ul>
                  <li class="none">
                          <a href="db-project-best-practices.html" title="DB Project Best Practices">DB Project Best Practices</a>
            </li>
                  <li class="none">
                          <a href="rollback.html" title="Rollback">Rollback</a>
            </li>
                  <li class="none">
                          <a href="multiple-schema-management.html" title="Multiple Schema Management">Multiple Schema Management</a>
            </li>
                  <li class="none">
                          <a href="in-memory-db-testing.html" title="In-memory DB Testing">In-memory DB Testing</a>
            </li>
                  <li class="none">
                          <a href="parallel-deploy-execution.html" title="Parallel Deploy Execution">Parallel Deploy Execution</a>
            </li>
                  <li class="none">
                          <a href="orm-integration.html" title="ORM Integration">ORM Integration</a>
            </li>
                  <li class="none">
                          <a href="baseline-validation.html" title="Baseline DDL Validation">Baseline DDL Validation</a>
            </li>
                  <li class="none">
                          <a href="sybase-ase-notes.html" title="Sybase ASE Notes">Sybase ASE Notes</a>
            </li>
                  <li class="none">
                          <a href="db2-notes.html" title="DB2 Notes">DB2 Notes</a>
            </li>
                  <li class="none">
                          <a href="phased-deployments.html" title="Phased Deployments">Phased Deployments</a>
            </li>
                  <li class="none">
                          <a href="incremental-change-code-cleanup.html" title="Incremental Change Code Cleanup">Incremental Change Code Cleanup</a>
            </li>
          </ul>
                       <h5>Onboarding Guide</h5>
                  <ul>
                  <li class="none">
                          <a href="onboarding-guide.html" title="Which onboarding to choose?">Which onboarding to choose?</a>
            </li>
                  <li class="none">
                          <a href="new-onboarding-guide.html" title="New Systems">New Systems</a>
            </li>
                  <li class="none">
                          <a href="existing-onboarding-guide.html" title="Existing Systems">Existing Systems</a>
            </li>
                  <li class="none">
                          <a href="existing-diverging-onboarding-guide.html" title="Existing Systems with Diverging Shards">Existing Systems with Diverging Shards</a>
            </li>
                  <li class="none">
                          <a href="legacy-onboarding-guide.html" title="Legacy Onboarding - Legacy Systems">Legacy Onboarding - Legacy Systems</a>
            </li>
                  <li class="none">
                          <a href="db-merge-tool.html" title="DB Merge Tool">DB Merge Tool</a>
            </li>
          </ul>
                       <h5>Developer Information</h5>
                  <ul>
                  <li class="none">
                          <a href="developer-guide.html" title="Developer Guide">Developer Guide</a>
            </li>
                  <li class="none">
                          <a href="design-walkthrough.html" title="Design Walkthrough">Design Walkthrough</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                 
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
    
        <p>
        The command line format is generally as follows:
        </p>
<div class="source">
<pre>$OBEVO_PATH/bin/deploy.sh &lt;COMMAND&gt; -arg1 arg -arg2 arg etc</pre></div>
        where &lt;COMMAND&gt; is one of the following:
        

        
            
            
        
<ul>
<li><a href="#DEPLOY">DEPLOY</a></li>
<li><a href="#PREVIEW">PREVIEW</a></li>
<li><a href="#INIT">INIT</a></li>
<li><a href="#Reverse_Engineering_Commands">Reverse Engineering Commands</a></li></ul>

        
<div class="section">
<h2><a name="DEPLOY"></a>DEPLOY</h2>
            
<p>This is the main command for Obevo that will deploy your source changes to your target environment.
            It will  1) read your source changes  2) read the changes already deployed in the audit table  3) calculate
            the difference  4) deploy the changes</p>

            
<p>Arguments:</p>

            -sourcePath &lt;arg&gt;
            
<ul>
                
<li>The path to your DB source path (i.e. the directory where your system config file resides, or the direct path to the system config file itself</li>
                
<li>Required</li>
            </ul>

            -action &lt;arg&gt;
            
<ul>
                
<li>2 possible arguments:
                    
<ul>
                        
<li>clean - wipes away all objects from the schemas defined in your config. Useful for dev and test environments</li>
                        
<li>deploy - does a standard deploy</li>
                    </ul>
                </li>
                
<li>You can specify as a comma-separated list if you want to do multiple commands</li>
                
<li>Optional - defaults to deploy</li>
            </ul>

            -env &lt;arg&gt;
            
<ul>
                
<li>The environment name/s defined in your config that you want to deploy. You can specify a comma-separated list or a wildcard via * or % (i.e. dev0*, %prod)</li>
                
<li>Optional if the config at your source path only defines 1 environment, then that is chosen. Otherwise, this is required.</li>
            </ul>

            Credentials: -deployUserId &lt;arg&gt;, -password &lt;arg&gt;, -useKerberosAuth
            
<ul>
                
<li>Either provide deployUserId + password, or deployUserId + useKerberos if you kinit beforehand and the platform supports it</li>
                
<li>Optional: if not provided at command line or from config, you will be prompted</li>
            </ul>

            -noPrompt
            
<ul>
                
<li>Defines if the deployment will proceed without any user interaction or prompting</li>
                
<li>Optional - defaults to false (i.e. users are prompted by default)</li>
            </ul>
        </div>
        
<div class="section">
<h2><a name="PREVIEW"></a>PREVIEW</h2>
            
<p>PREVIEW is a read-only mode command that will show the user the changes that expect to be deployed (i.e.
                the first 3 steps mentioned in the DEPLOY command), but it will not actually deploy the changes.</p>
            
<p>This is a convenience for teams that just want to see the changes that will get deployed using a read-only db id</p>

            Same args as DEPLOY are used, except for -action
        </div>
        
<div class="section">
<h2><a name="INIT"></a>INIT</h2>
            
<p>The INIT command is used when onboarding an existing system to Obevo to mark your initial schema as &quot;already deployed&quot; in the system.</p>

            
<p>See the <a href="onboarding-guide.html">Onboarding Guide</a> for details.</p>

            
<p>Essentially, this will execute a DEPLOY command, just without executing your source code to the DB - it will just update the deploy audit table.</p>
        </div>
        
<div class="section">
<h2><a name="Reverse_Engineering_Commands"></a>Reverse Engineering Commands</h2>
            
<p>These commands are used when you need to onboard an existing system to Obevo.</p>

            
<p>They would extract the DB schema from your existing data and put it into the Obevo file format.</p>

            
<p>See the <a href="onboarding-guide.html">Onboarding Guide</a> for details.</p>
        </div>
    

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2017
                        <a href="http://www.goldmansachs.com/">Goldman Sachs</a>.
            All rights reserved.    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
