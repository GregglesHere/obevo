<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017-06-18 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Obevo &#x2013; Reverse-Engineering via Aqua Data Studio</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                              <a href="./" id="bannerLeft">
                Obevo
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-06-18</span>
                  &nbsp;| <span id="projectVersion">Version: 6.1.0</span>
                      </div>
            <div class="xright">                    <a href=".." title="Product Link">Product Link</a>
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
                                <h5>Getting Started</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Intro">Intro</a>
            </li>
                  <li class="none">
                          <a href="overview.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="setup.html" title="Setup your Distribution">Setup your Distribution</a>
            </li>
                  <li class="none">
                          <a href="support.html" title="Help and Support">Help and Support</a>
            </li>
          </ul>
                       <h5>Technical Documentation</h5>
                  <ul>
                  <li class="none">
                          <a href="db-project-structure.html" title="DB Project Structure">DB Project Structure</a>
            </li>
                  <li class="none">
                          <a href="environment-management.html" title="Environment Management">Environment Management</a>
            </li>
                  <li class="none">
                          <a href="permission-management.html" title="Permission Management">Permission Management</a>
            </li>
                  <li class="none">
                          <a href="error-handling.html" title="Error-Handling">Error-Handling</a>
            </li>
                  <li class="none">
                          <a href="command-line-api.html" title="Command-line API">Command-line API</a>
            </li>
                  <li class="none">
                          <a href="java-api.html" title="Java API">Java API</a>
            </li>
                  <li class="none">
                          <a href="maven-api.html" title="Maven plugin API">Maven plugin API</a>
            </li>
                  <li class="none">
                          <a href="gradle-api.html" title="Gradle API">Gradle API</a>
            </li>
                  <li class="none">
                          <a href="faq.html" title="FAQs">FAQs</a>
            </li>
          </ul>
                       <h5>Advanced Topics</h5>
                  <ul>
                  <li class="none">
                          <a href="db-project-best-practices.html" title="DB Project Best Practices">DB Project Best Practices</a>
            </li>
                  <li class="none">
                          <a href="rollback.html" title="Rollback">Rollback</a>
            </li>
                  <li class="none">
                          <a href="multiple-schema-management.html" title="Multiple Schema Management">Multiple Schema Management</a>
            </li>
                  <li class="none">
                          <a href="in-memory-db-testing.html" title="In-memory DB Testing">In-memory DB Testing</a>
            </li>
                  <li class="none">
                          <a href="parallel-deploy-execution.html" title="Parallel Deploy Execution">Parallel Deploy Execution</a>
            </li>
                  <li class="none">
                          <a href="orm-integration.html" title="ORM Integration">ORM Integration</a>
            </li>
                  <li class="none">
                          <a href="baseline-validation.html" title="Baseline DDL Validation">Baseline DDL Validation</a>
            </li>
                  <li class="none">
                          <a href="sybase-ase-notes.html" title="Sybase ASE Notes">Sybase ASE Notes</a>
            </li>
                  <li class="none">
                          <a href="db2-notes.html" title="DB2 Notes">DB2 Notes</a>
            </li>
                  <li class="none">
                          <a href="phased-deployments.html" title="Phased Deployments">Phased Deployments</a>
            </li>
                  <li class="none">
                          <a href="incremental-change-code-cleanup.html" title="Incremental Change Code Cleanup">Incremental Change Code Cleanup</a>
            </li>
          </ul>
                       <h5>Onboarding Guide</h5>
                  <ul>
                  <li class="none">
                          <a href="onboarding-guide.html" title="Which onboarding to choose?">Which onboarding to choose?</a>
            </li>
                  <li class="none">
                          <a href="new-onboarding-guide.html" title="New Systems">New Systems</a>
            </li>
                  <li class="none">
                          <a href="existing-onboarding-guide.html" title="Existing Systems">Existing Systems</a>
            </li>
                  <li class="none">
                          <a href="existing-diverging-onboarding-guide.html" title="Existing Systems with Diverging Shards">Existing Systems with Diverging Shards</a>
            </li>
                  <li class="none">
                          <a href="legacy-onboarding-guide.html" title="Legacy Onboarding - Legacy Systems">Legacy Onboarding - Legacy Systems</a>
            </li>
                  <li class="none">
                          <a href="db-merge-tool.html" title="DB Merge Tool">DB Merge Tool</a>
            </li>
          </ul>
                       <h5>Developer Information</h5>
                  <ul>
                  <li class="none">
                          <a href="developer-guide.html" title="Developer Guide">Developer Guide</a>
            </li>
                  <li class="none">
                          <a href="design-walkthrough.html" title="Design Walkthrough">Design Walkthrough</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                 
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
    
        <div class="section">
<h2><a name="Reverse-Engineering_via_Aqua_Data_Studio"></a>Reverse-Engineering via Aqua Data Studio</h2>
            
<p>You have the option of leveraging Aqua Data Studio to reverse-engineer your DDLs into the formats desired by
                Obevo.
                </p>
<ul>
                    
<li>
                        <font color="Red">Obevo has been tested against version 12 of ADS</font>
                    </li>
                    
<li>For Sybase IQ, enable the Schema Grouping display for easy access, e.g. right-click your Server -&gt; Server Properties -&gt; Advanced Tab -&gt; Object Folder panel -&gt; set Schema Folder Groupig = Yes</li>
                </ul>
            

            To do this:
            
<ul>
                
<li>In Aqua, go to Tools -&gt; Schema Script Generator</li>
                
<li>Choose all the objects that you want to include in the schema you want to include</li>
                
<li>Choose the options for reverse-engineering as indicated in the Aqua Data Studio picture below
                    
<ul>
                        
<li><font color="Red"><b><i><u>NOTE #1 - if your Aqua Data Studio is not showing all the options there, you may need to expand your window horizontally and vertically (ADS quirk...). The screenshot below is from 7.0.39</u></i></b></font></li>
                        
<li>NOTE #2 - In Aqua Data Studio &gt;= 8, the &quot;Tables: Script full table (Indexes, Triggers)&quot; seems to be disabled for some people. You can proceed anyway. (note - if you do have the option to choose it, do ensure that it is checked)</li>
                    </ul>
                    <br />
                    <img src="images/reverse-engineer-aqua.jpg" alt="" />
                    <br />
                </li>
                
<li>Use the DBREVENG command in the binary to rearrange files into the right format
                    Here is an example - this will reverse-engineer the DB that was generated in the kata steps above. A sample
                    output from Aqua Data Studio is provided in reveng-example
                    
<div class="source">
<pre>
%OBEVO_HOME%\bin\deploy.bat DBREVENG -dbType DB2 -dbSchema YourSchemaName -mode schema -inputDir h:\reveng-example -outputDir h:\reveng-example-output

# note - for dbSchema, specify the DB2 schema, i.e. the ASE-equivalent of &quot;database&quot;, i.e. IQ-equivalent of &quot;schema&quot;, etc.

# Other optional args:
-nameCombinePattern &quot;combinePattern&quot; ==&gt; Lets you combine multiple related tables (e.g. MYTABLE and MYTABLE_WRK) into one file for easier management. Specify the pattern like {}_WRK, where {} is the placeholder for your table (akin to the logging in slf4j)
-preprocessSchemaTokens &quot;true/false&quot; ==&gt; Defaults to true; this will remove any explicit references to the default schema left in your Aqua output. Only set to false if you've already cleaned up those references.
# Deprecated args::
-tablespaceToken ==&gt; Will add the string &quot;IN ${schema_TABLESPACE}&quot; at the end of your tables (helpful for DB2). Use the default instead, which simply removes the schema references instead of replacing w/ a token
</pre></div>
                </li>
                
<li>Regarding the output:
                    
<ul>
                        
<li>This will generate the reverse-engineered output under &lt;outputDir&gt;/final</li>
                        
<li>If preprocessSchemaTokens is true (which it is by default), you will also see an &lt;outputDir&gt;/interim folder that has the output of the schema prefix removals.</li>
                        
<li>You should compare the input to the interim output to ensure that the basic schema removal was done correctly. If it wasn't, you can manually correct the interim folder, and then rerun the reverse-engineering with &quot;-preprocessSchemaTokens false&quot;</li>
                    </ul>
                </li>
                
<li>Once you have these files, do the final touches on them as you see fit (e.g. delete junk tables), and
                    proceed to the next step
                    
<ul>
                        
<li><font color="Red">Note the warning in your output - if you see any directories with a name containing
                            &quot;-pleaseAnalyze&quot; in the result of the DBREVENG script</font>, then the tool could not figure out what to do w/ those
                            sql snippets. Either manually figure out where to put them and do so, or if you find too many
                            such cases, reach out to the product team via Github, including a zip file of your reveng contents
                        </li>
                    </ul>
                </li>
            </ul>

            
<p>Note that we explicitly don't include the grants here. This is because you can &amp; should use the global
                permissioning functionality instead
            </p>

            
<p>Once done, return to the <a href="existing-onboarding-guide.html">Existing Onboarding Guide</a> to continue
            the onboarding process</p>
        </div>
    

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2017
                        <a href="http://www.goldmansachs.com/">Goldman Sachs</a>.
            All rights reserved.    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
