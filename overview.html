<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017-11-25 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20171125" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Obevo &#x2013; Overview</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarEnabled">
                      <a href="https://github.com/goldmansachs/obevo">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
      <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
        <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
            <ul class="nav">
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="index.html" title="Intro">Intro</a></li>
            <li><a href="overview.html" title="Overview">Overview</a></li>
            <li><a href="setup.html" title="Setup">Setup</a></li>
            <li><a href="support.html" title="Help and Support">Help and Support</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Technical Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="db-project-structure.html" title="DB Project Structure">DB Project Structure</a></li>
            <li><a href="environment-management.html" title="Environment Management">Environment Management</a></li>
            <li><a href="permission-management.html" title="Permission Management">Permission Management</a></li>
            <li><a href="error-handling.html" title="Error-Handling">Error-Handling</a></li>
            <li><a href="command-line-api.html" title="Command-line API">Command-line API</a></li>
            <li><a href="java-api.html" title="Java API">Java API</a></li>
            <li><a href="maven-api.html" title="Maven plugin API">Maven plugin API</a></li>
            <li><a href="gradle-api.html" title="Gradle API">Gradle API</a></li>
            <li><a href="faq.html" title="FAQs">FAQs</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Advanced Topics <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="db-project-best-practices.html" title="DB Project Best Practices">DB Project Best Practices</a></li>
            <li><a href="rollback.html" title="Rollback">Rollback</a></li>
            <li><a href="multiple-schema-management.html" title="Multiple Schema Management">Multiple Schema Management</a></li>
            <li><a href="in-memory-db-testing.html" title="In-memory DB Testing">In-memory DB Testing</a></li>
            <li><a href="parallel-deploy-execution.html" title="Parallel Deploy Execution">Parallel Deploy Execution</a></li>
            <li><a href="orm-integration.html" title="ORM Integration">ORM Integration</a></li>
            <li><a href="baseline-validation.html" title="Baseline DDL Validation">Baseline DDL Validation</a></li>
            <li><a href="sybase-ase-notes.html" title="Sybase ASE Notes">Sybase ASE Notes</a></li>
            <li><a href="db2-notes.html" title="DB2 Notes">DB2 Notes</a></li>
            <li><a href="phased-deployments.html" title="Phased Deployments">Phased Deployments</a></li>
            <li><a href="incremental-change-code-cleanup.html" title="Incremental Change Code Cleanup">Incremental Change Code Cleanup</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Onboarding Guide <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="onboarding-guide.html" title="Which onboarding to choose?">Which onboarding to choose?</a></li>
            <li><a href="new-onboarding-guide.html" title="New Systems">New Systems</a></li>
            <li><a href="existing-onboarding-guide.html" title="Existing Systems">Existing Systems</a></li>
            <li><a href="existing-diverging-onboarding-guide.html" title="Existing Systems with Diverging Shards">Existing Systems with Diverging Shards</a></li>
            <li><a href="legacy-onboarding-guide.html" title="Legacy Onboarding - Legacy Systems">Legacy Onboarding - Legacy Systems</a></li>
            <li><a href="db-merge-tool.html" title="DB Merge Tool">DB Merge Tool</a></li>
        </ul>
      </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developer Information <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="dropdown-submenu">
<a href="developer-guide.html" title="Developer Guide">Developer Guide</a>
              <ul class="dropdown-menu">
                  <li><a href="dev-setup-amazon.html" title="Amazon RDS DB Setup">Amazon RDS DB Setup</a></li>
                  <li><a href="dev-setup-db2.html" title="DB2 Test DB Setup">DB2 Test DB Setup</a></li>
                  <li><a href="dev-setup-sybase-ase.html" title="Sybase ASE Test DB Setup">Sybase ASE Test DB Setup</a></li>
              </ul>
            </li>
            <li><a href="design-walkthrough.html" title="Design Walkthrough">Design Walkthrough</a></li>
        </ul>
      </li>
              </ul>
            </div>
        </div>
      </div>
    </div>
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="./" id="bannerLeft"><h2>Obevo</h2>
</a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li class=""><a href="./" title="Obevo">Obevo</a><span class="divider">/</span></li>
    <li class="active ">Overview</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2017-11-25</li>
          <li id="projectVersion" class="pull-right">Version: 6.4.0</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Getting Started</li>
    <li><a href="index.html" title="Intro"><span class="none"></span>Intro</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>Overview</a>
  </li>
    <li><a href="setup.html" title="Setup"><span class="none"></span>Setup</a>  </li>
    <li><a href="support.html" title="Help and Support"><span class="none"></span>Help and Support</a>  </li>
          <li class="nav-header">Technical Documentation</li>
    <li><a href="db-project-structure.html" title="DB Project Structure"><span class="none"></span>DB Project Structure</a>  </li>
    <li><a href="environment-management.html" title="Environment Management"><span class="none"></span>Environment Management</a>  </li>
    <li><a href="permission-management.html" title="Permission Management"><span class="none"></span>Permission Management</a>  </li>
    <li><a href="error-handling.html" title="Error-Handling"><span class="none"></span>Error-Handling</a>  </li>
    <li><a href="command-line-api.html" title="Command-line API"><span class="none"></span>Command-line API</a>  </li>
    <li><a href="java-api.html" title="Java API"><span class="none"></span>Java API</a>  </li>
    <li><a href="maven-api.html" title="Maven plugin API"><span class="none"></span>Maven plugin API</a>  </li>
    <li><a href="gradle-api.html" title="Gradle API"><span class="none"></span>Gradle API</a>  </li>
    <li><a href="faq.html" title="FAQs"><span class="none"></span>FAQs</a>  </li>
          <li class="nav-header">Advanced Topics</li>
    <li><a href="db-project-best-practices.html" title="DB Project Best Practices"><span class="none"></span>DB Project Best Practices</a>  </li>
    <li><a href="rollback.html" title="Rollback"><span class="none"></span>Rollback</a>  </li>
    <li><a href="multiple-schema-management.html" title="Multiple Schema Management"><span class="none"></span>Multiple Schema Management</a>  </li>
    <li><a href="in-memory-db-testing.html" title="In-memory DB Testing"><span class="none"></span>In-memory DB Testing</a>  </li>
    <li><a href="parallel-deploy-execution.html" title="Parallel Deploy Execution"><span class="none"></span>Parallel Deploy Execution</a>  </li>
    <li><a href="orm-integration.html" title="ORM Integration"><span class="none"></span>ORM Integration</a>  </li>
    <li><a href="baseline-validation.html" title="Baseline DDL Validation"><span class="none"></span>Baseline DDL Validation</a>  </li>
    <li><a href="sybase-ase-notes.html" title="Sybase ASE Notes"><span class="none"></span>Sybase ASE Notes</a>  </li>
    <li><a href="db2-notes.html" title="DB2 Notes"><span class="none"></span>DB2 Notes</a>  </li>
    <li><a href="phased-deployments.html" title="Phased Deployments"><span class="none"></span>Phased Deployments</a>  </li>
    <li><a href="incremental-change-code-cleanup.html" title="Incremental Change Code Cleanup"><span class="none"></span>Incremental Change Code Cleanup</a>  </li>
          <li class="nav-header">Onboarding Guide</li>
    <li><a href="onboarding-guide.html" title="Which onboarding to choose?"><span class="none"></span>Which onboarding to choose?</a>  </li>
    <li><a href="new-onboarding-guide.html" title="New Systems"><span class="none"></span>New Systems</a>  </li>
    <li><a href="existing-onboarding-guide.html" title="Existing Systems"><span class="none"></span>Existing Systems</a>  </li>
    <li><a href="existing-diverging-onboarding-guide.html" title="Existing Systems with Diverging Shards"><span class="none"></span>Existing Systems with Diverging Shards</a>  </li>
    <li><a href="legacy-onboarding-guide.html" title="Legacy Onboarding - Legacy Systems"><span class="none"></span>Legacy Onboarding - Legacy Systems</a>  </li>
    <li><a href="db-merge-tool.html" title="DB Merge Tool"><span class="none"></span>DB Merge Tool</a>  </li>
          <li class="nav-header">Developer Information</li>
    <li><a href="developer-guide.html" title="Developer Guide"><span class="icon-chevron-down"></span>Developer Guide</a>
      <ul class="nav nav-list">
    <li><a href="dev-setup-amazon.html" title="Amazon RDS DB Setup"><span class="none"></span>Amazon RDS DB Setup</a>  </li>
    <li><a href="dev-setup-db2.html" title="DB2 Test DB Setup"><span class="none"></span>DB2 Test DB Setup</a>  </li>
    <li><a href="dev-setup-sybase-ase.html" title="Sybase ASE Test DB Setup"><span class="none"></span>Sybase ASE Test DB Setup</a>  </li>
      </ul>
  </li>
    <li><a href="design-walkthrough.html" title="Design Walkthrough"><span class="none"></span>Design Walkthrough</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >

    
        <div class="section">
<h3><a name="Preface"></a>Preface</h3></div>
        
<p>Before we start, we'd like to mention that one of the keys to this tool is to make your db schema maintenance
            easy, whether for large or small DBs, for new or existing.
        </p>
        
<p>Particuarly existing systems - if you haven't managed your DB schemas in source code before, it
            usually would be painful to get that under source control, and thus Obevo has functionality to make
            it as easy as possible (and continually looks to improve)
        </p>
        
<p>Obevo was built to handle such cases and vetted by its usage and onboarding into long-lived existing systems.
            See <a class="externalLink" href="https://github.com/goldmansachs/obevo-kata/blob/master/internal/doc/kata2-reverse-engineering.md">here</a>
            for a demo project to show this. In our opinion, the resulting code is
            rather maintainable (considering the hundreds of db objects!) compared to what may otherwise result if the
            system was maintained only using incremental update scripts.
        </p>
        
<div class="section">
<h3><a name="Overview_of_how_most_database_deployment_tools_work"></a>Overview of how &quot;most database deployment tools&quot; work</h3></div>
        
<p>Some Background - the key fact is that a database is maintained over time with <i>incremental</i>
             changes
        </p>
        
<ul>
            
<li>i.e. you cannot redefine a DB table by simply editing the existing definition</li>
            
<li>This is because the only way to perform such changes in SQL is by dropping and re-adding the table, and
                this is not possible as tables have data in it
            </li>
            
<li>Instead, you must define ALTER statements on top of the existing tables to make changes</li>
        </ul>
        
<p>Hence, most DB deployment tools operate in this manner:</p>
        
<ul>
            
<li>Developers define the DB changes (i.e some create/alter command) in source control, with the changes
                identifiable by a certain convention (one example is to do one change per file, with the<i>name</i> of
                the change being the file name)
            </li>
            
<li>The tool is executed against a target database. The changes that get applied are stored in a table in
                the target database (keyed off the <i>name</i> of the change)
            </li>
            
<li>Upon subsequent calls to the deployment tool, the tool will use this audit trail to know which changes
                should get deployed (i.e. &quot;set of changes defined in your code&quot; minus &quot;set of changes in
                the audit db&quot; = &quot;set of changes to deploy&quot;)
                
<ul>
                    
<li>This implies that once a change is deployed to a DB, that the change should no longer be
                        modified in source control
                    </li>
                    
<li>Many db tools will do a check to ensure that this does not happen (i.e. store a hash of the
                        change in the DB upon deployment, and compare against that hash upon subsequent deployments)
                    </li>
                </ul>
            </li>
        </ul>
        
<p>Alternative considered - tool generates the diffs:</p>
        
<ul>
            
<li>An approach that people may think of is to
                just maintain the latest version of the schema in your source, and have the tool figure out the
                differences
            </li>
            
<li>This would be ideal, but in practice can be tricky (even with vendor products) and would always need
                some human intervention. Hence, we cut out this part entirely
            </li>
        </ul>
        
<div class="section">
<h3><a name="Why_Obevo"></a>Why Obevo</h3></div>
        
<p>Viewing all DB migrations as incremental changes is simple to implement, but does not lead to a maintainable
            code base in the long term
        </p>
        
<ul>
            
<li>Imagine all the change files that will start piling up in your code base</li>
            
<li>And for rerunnable objects like stored procedures or views, it seems redundant to keep the old change
                files around. (yes, stored procedures are &quot;evil&quot;, but many systems still use them and we need
                to continue to maintain them)
            </li>
            
<li>And having to manually define the order of your changes, e.g. for inter-dependent stored procedures.
                (Imagine if you had to do this for Java, i.e. specifying the compile order of your classes based on
                their dependencies and relationships)
            </li>
        </ul>
        
<p>Obevo looks to save some of the work around this by:</p>
        
<ul>
            
<li>Encouraging a one-file-for-db-object convention as to make db object maintenance similar to your code
                (e.g. the one-file-per-class convention in Java)
            </li>
            
<li>Saving some work to generate alter commands where needed (e.g. for views and stored procedures)</li>
            
<li>Using an algorithm to automatically calculate the change deployment order (both for incremental changes
                and rerunnable changes)
            </li>
            
<li>Among other things</li>
        </ul>
        
<p>The user guide details the features that come with Obevo.</p>
        
<div class="section">
<h3><a name="How_Obevo_Calculates_and_Applies_Changes"></a>How Obevo Calculates and Applies Changes</h3></div>
        
<p>Read the 'how &quot;most database deployment tools&quot; work' section and then see the <a href="design-walkthrough.html">Design Walkthrough</a></p>
    

        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2017
<a href="http://www.goldmansachs.com/">Goldman Sachs</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
