<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017-06-18 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Obevo &#x2013; Sybase ASE Notes</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                              <a href="./" id="bannerLeft">
                Obevo
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-06-18</span>
                  &nbsp;| <span id="projectVersion">Version: 6.1.0</span>
                      </div>
            <div class="xright">                    <a href=".." title="Product Link">Product Link</a>
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
                                <h5>Getting Started</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Intro">Intro</a>
            </li>
                  <li class="none">
                          <a href="overview.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="setup.html" title="Setup your Distribution">Setup your Distribution</a>
            </li>
                  <li class="none">
                          <a href="support.html" title="Help and Support">Help and Support</a>
            </li>
          </ul>
                       <h5>Technical Documentation</h5>
                  <ul>
                  <li class="none">
                          <a href="db-project-structure.html" title="DB Project Structure">DB Project Structure</a>
            </li>
                  <li class="none">
                          <a href="environment-management.html" title="Environment Management">Environment Management</a>
            </li>
                  <li class="none">
                          <a href="permission-management.html" title="Permission Management">Permission Management</a>
            </li>
                  <li class="none">
                          <a href="error-handling.html" title="Error-Handling">Error-Handling</a>
            </li>
                  <li class="none">
                          <a href="command-line-api.html" title="Command-line API">Command-line API</a>
            </li>
                  <li class="none">
                          <a href="java-api.html" title="Java API">Java API</a>
            </li>
                  <li class="none">
                          <a href="maven-api.html" title="Maven plugin API">Maven plugin API</a>
            </li>
                  <li class="none">
                          <a href="gradle-api.html" title="Gradle API">Gradle API</a>
            </li>
                  <li class="none">
                          <a href="faq.html" title="FAQs">FAQs</a>
            </li>
          </ul>
                       <h5>Advanced Topics</h5>
                  <ul>
                  <li class="none">
                          <a href="db-project-best-practices.html" title="DB Project Best Practices">DB Project Best Practices</a>
            </li>
                  <li class="none">
                          <a href="rollback.html" title="Rollback">Rollback</a>
            </li>
                  <li class="none">
                          <a href="multiple-schema-management.html" title="Multiple Schema Management">Multiple Schema Management</a>
            </li>
                  <li class="none">
                          <a href="in-memory-db-testing.html" title="In-memory DB Testing">In-memory DB Testing</a>
            </li>
                  <li class="none">
                          <a href="parallel-deploy-execution.html" title="Parallel Deploy Execution">Parallel Deploy Execution</a>
            </li>
                  <li class="none">
                          <a href="orm-integration.html" title="ORM Integration">ORM Integration</a>
            </li>
                  <li class="none">
                          <a href="baseline-validation.html" title="Baseline DDL Validation">Baseline DDL Validation</a>
            </li>
                  <li class="none">
            <strong>Sybase ASE Notes</strong>
          </li>
                  <li class="none">
                          <a href="db2-notes.html" title="DB2 Notes">DB2 Notes</a>
            </li>
                  <li class="none">
                          <a href="phased-deployments.html" title="Phased Deployments">Phased Deployments</a>
            </li>
                  <li class="none">
                          <a href="incremental-change-code-cleanup.html" title="Incremental Change Code Cleanup">Incremental Change Code Cleanup</a>
            </li>
          </ul>
                       <h5>Onboarding Guide</h5>
                  <ul>
                  <li class="none">
                          <a href="onboarding-guide.html" title="Which onboarding to choose?">Which onboarding to choose?</a>
            </li>
                  <li class="none">
                          <a href="new-onboarding-guide.html" title="New Systems">New Systems</a>
            </li>
                  <li class="none">
                          <a href="existing-onboarding-guide.html" title="Existing Systems">Existing Systems</a>
            </li>
                  <li class="none">
                          <a href="existing-diverging-onboarding-guide.html" title="Existing Systems with Diverging Shards">Existing Systems with Diverging Shards</a>
            </li>
                  <li class="none">
                          <a href="legacy-onboarding-guide.html" title="Legacy Onboarding - Legacy Systems">Legacy Onboarding - Legacy Systems</a>
            </li>
                  <li class="none">
                          <a href="db-merge-tool.html" title="DB Merge Tool">DB Merge Tool</a>
            </li>
          </ul>
                       <h5>Developer Information</h5>
                  <ul>
                  <li class="none">
                          <a href="developer-guide.html" title="Developer Guide">Developer Guide</a>
            </li>
                  <li class="none">
                          <a href="design-walkthrough.html" title="Design Walkthrough">Design Walkthrough</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                 
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
    
        
            
            
        <ul>
<li><a href="#Sybase_stored_procedures_for_quotes_and_temp_tables">Sybase stored procedures for quotes and temp tables</a></li>
<li><a href="#Interestingunhelpful_error_messages_when_dealing_w_Sybase_-_see_the_FAQ">Interesting/unhelpful error messages when dealing w/ Sybase - see the FAQ</a></li>
<li><a href="#Duplicate_index_names_allowed_in_Sybase_but_not_in_in-memory_DBs">Duplicate index names allowed in Sybase but not in in-memory DBs</a></li></ul>
        
<div class="section">
<h2><a name="Sybase_stored_procedures_for_quotes_and_temp_tables"></a>Sybase stored procedures for quotes and temp tables</h2>
            
<p>For teams that have a lot of Sybase stored procedures, you may hit the following two use cases:</p>
            
<div class="section">
<h3><a name="Supporting_Quoted_Identifiers"></a>Supporting Quoted Identifiers</h3>
                
<p>
                    <b>The Problem</b>
                    In ANSI SQL, you use single-quotes to represent strings, not double-quotes. Double-quotes would tie
                    to
                    identifiers in the DB (e.g. column names, tables names, in case they have spaces)
                </p>
                
<p>For Sybase, this is also true if you connect via JDBC, but for whatever reason, it is not true if you
                    connect
                    via the isql command line - see
                    <a class="externalLink" href="http://infocenter.sybase.com/help/index.jsp?topic=/com.sybase.infocenter.dc38151.1510/html/iqrefbb/CACIIHCI.htm">
                        Sybase's doc for more info
                    </a>
                </p>
                
<p>Hence, if you deployed stored procedures via isql, and then try to re-deploy via isql or
                    Obevo in
                    its default setting, you will get an error, as the SP will have double-quotes
                </p>
                
<p>
                    <b>The Solution</b>
                </p>
                
<p>If you specify the metadata annotation //// METADATA DISABLE_QUOTED_IDENTIFIERS, then
                    Obevo will turn off the quotedidentifier option so that the double-quotes will be treated
                    as
                    strings. It will then turn it back on for subsequent deployments
                </p>
                
<p>Note that the Obevo reverse-engineering step mentioned earlier will automatically add this
                    annotation if it sees a double-quote in the text. (Though there is a chance that it is actually
                    intended as
                    an identifier, the likely case is that it was intended as a string. You should try to recall if the
                    SP was
                    originally deployed via isqlto help your decision)if you do the reverse-engineering steps above,
                </p>
            </div>
            
<div class="section">
<h3><a name="Temp_Tables_as_Input_to_Stored_Procedures"></a>Temp Tables as Input to Stored Procedures</h3>
                
<p>In Costar, we've had some cases where a stored procedure required a temp table to be populated for
                    running
                    the stored procedure. However, to create the SP, we need the temp table created in the first place
                </p>
                
<p>To do this, you can do this in the sp sql file itself, but just remember to add the temp table
                    beforehand and
                    then to drop it, e.g.
                </p>
                
<div class="source">
<pre>create table #mytemp (a int, b int)
go
create proc PopulateSelectTradeTemps() as
...
select * from #mytemp
...
end
go
drop #mytemp</pre></div>
                
<p>(not that we'd want to do something like this in the age of Java and Reladomo/Hibernate, but this is
                    here in
                    case you need it.
                </p>
            </div>
        </div>
        
<div class="section">
<h2><a name="Interestingunhelpful_error_messages_when_dealing_w_Sybase_-_see_the_FAQ"></a>Interesting/unhelpful error messages when dealing w/ Sybase - see the FAQ</h2>
            
<p>Compared to the other DBMS types supported by Obevo, Sybase has a lot of interesting error and error
                messages (or lack of helpful error messages).
            </p>

            
<p>Please see the
                <a href="faq.html">FAQ pages</a>
                for more information
            </p>
        </div>
        
<div class="section">
<h2><a name="Duplicate_index_names_allowed_in_Sybase_but_not_in_in-memory_DBs"></a>Duplicate index names allowed in Sybase but not in in-memory DBs</h2>
            
<p>Sybase allows for indices not to have unique names given they refer to different tables. This is not
                supported by the in-memory databases.
            </p>
            
<p>To work around this, you can use a marker tag in system-config.xml as shown below. This will force
                all
                indices in a schema to be prefixed with a table name in test mode.
            </p>
            
<div class="source">
<pre>&lt;dbSystemConfig type=&quot;SYBASE_ASE&quot;&gt;
&lt;schemas&gt;
&lt;schema name=&quot;schema_name&quot;&gt;
&lt;duplicateIndexNames&gt;true&lt;/duplicateIndexNames&gt;
...</pre></div>

        </div>
    

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2017
                        <a href="http://www.goldmansachs.com/">Goldman Sachs</a>.
            All rights reserved.    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
