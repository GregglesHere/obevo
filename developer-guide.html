<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2017-04-27 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Obevo &#x2013; Developer Guide</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20170427" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                              <a href="./" id="bannerLeft">
                Obevo
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-04-27</span>
                  &nbsp;| <span id="projectVersion">Version: 6.0.0-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="../" title="Product Link">Product Link</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Getting Started</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Intro">Intro</a>
            </li>
                  <li class="none">
                          <a href="overview.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="kata.html" title="Kata">Kata</a>
            </li>
                  <li class="none">
                          <a href="support.html" title="Help and Support">Help and Support</a>
            </li>
          </ul>
                       <h5>Technical Documentation</h5>
                  <ul>
                  <li class="none">
                          <a href="db-project-structure.html" title="DB Project Structure">DB Project Structure</a>
            </li>
                  <li class="none">
                          <a href="environment-management.html" title="Environment Management">Environment Management</a>
            </li>
                  <li class="none">
                          <a href="permission-management.html" title="Permission Management">Permission Management</a>
            </li>
                  <li class="none">
                          <a href="error-handling.html" title="Error-Handling">Error-Handling</a>
            </li>
                  <li class="none">
                          <a href="command-line-api.html" title="Command-line API">Command-line API</a>
            </li>
                  <li class="none">
                          <a href="java-api.html" title="Java API">Java API</a>
            </li>
                  <li class="none">
                          <a href="maven-api.html" title="Maven plugin API">Maven plugin API</a>
            </li>
                  <li class="none">
                          <a href="gradle-api.html" title="Gradle API">Gradle API</a>
            </li>
                  <li class="none">
                          <a href="faq.html" title="FAQs">FAQs</a>
            </li>
          </ul>
                       <h5>Advanced Topics</h5>
                  <ul>
                  <li class="none">
                          <a href="db-project-best-practices.html" title="DB Project Best Practices">DB Project Best Practices</a>
            </li>
                  <li class="none">
                          <a href="rollback.html" title="Rollback">Rollback</a>
            </li>
                  <li class="none">
                          <a href="multiple-schema-management.html" title="Multiple Schema Management">Multiple Schema Management</a>
            </li>
                  <li class="none">
                          <a href="in-memory-db-testing.html" title="In-memory DB Testing">In-memory DB Testing</a>
            </li>
                  <li class="none">
                          <a href="parallel-deploy-execution.html" title="Parallel Deploy Execution">Parallel Deploy Execution</a>
            </li>
                  <li class="none">
                          <a href="orm-integration.html" title="ORM Integration">ORM Integration</a>
            </li>
                  <li class="none">
                          <a href="baseline-validation.html" title="Baseline DDL Validation">Baseline DDL Validation</a>
            </li>
                  <li class="none">
                          <a href="sybase-ase-notes.html" title="Sybase ASE Notes">Sybase ASE Notes</a>
            </li>
                  <li class="none">
                          <a href="db2-notes.html" title="DB2 Notes">DB2 Notes</a>
            </li>
                  <li class="none">
                          <a href="phased-deployments.html" title="Phased Deployments">Phased Deployments</a>
            </li>
                  <li class="none">
                          <a href="incremental-change-code-cleanup.html" title="Incremental Change Code Cleanup">Incremental Change Code Cleanup</a>
            </li>
          </ul>
                       <h5>Onboarding Guide</h5>
                  <ul>
                  <li class="none">
                          <a href="onboarding-guide.html" title="Which onboarding to choose?">Which onboarding to choose?</a>
            </li>
                  <li class="none">
                          <a href="new-onboarding-guide.html" title="New Systems">New Systems</a>
            </li>
                  <li class="none">
                          <a href="existing-onboarding-guide.html" title="Existing Systems">Existing Systems</a>
            </li>
                  <li class="none">
                          <a href="existing-diverging-onboarding-guide.html" title="Existing Systems with Diverging Shards">Existing Systems with Diverging Shards</a>
            </li>
                  <li class="none">
                          <a href="legacy-onboarding-guide.html" title="Legacy Onboarding - Legacy Systems">Legacy Onboarding - Legacy Systems</a>
            </li>
                  <li class="none">
                          <a href="db-merge-tool.html" title="DB Merge Tool">DB Merge Tool</a>
            </li>
          </ul>
                       <h5>Developer Information</h5>
                  <ul>
                  <li class="none">
            <strong>Developer Guide</strong>
          </li>
                  <li class="none">
                          <a href="design-walkthrough.html" title="Design Walkthrough">Design Walkthrough</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- Copyright 2017 Goldman Sachs.
    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License. -->
    
        
            
            
        <ul>
<li><a href="#Quick_Code_Walkthrough__Key_Classes:">Quick Code Walkthrough + Key Classes:</a></li>
<li><a href="#Getting_started_with_coding">Getting started with coding</a></li>
<li><a href="#Adding_a_new_DBMS_implementation">Adding a new DBMS implementation</a></li></ul>

        
<div class="section">
<h2><a name="Quick_Code_Walkthrough__Key_Classes:"></a>Quick Code Walkthrough + Key Classes:</h2>
            First, read through these:
            
<ol style="list-style-type: decimal">
                
<li>
                    <a href="design-walkthrough.html">Design Walkthrough</a>
                    to understand what the tool is trying to do and how
                </li>
                
<li>
                    <a href="java-api.html">Java API</a>
                    to see the module structure and understand the tool from a client perspective
                </li>
            </ol>

            Pay special attention to the &quot;Developer Guide note&quot; mentions in the Design Walkthrough to see how the design maps to the code.
        </div>

        
<div class="section">
<h2><a name="Getting_started_with_coding"></a>Getting started with coding</h2>
            
<p>Try out any of the unit tests and ITs in the DBMS-specific modules or the scenario test modules.</p>
            
<p>These will typically invoke deployments against actual DBs and vet that the results in the DB are correct</p>
            
<p>You can use these to see the full code path executed and trace through as you need to</p>
        </div>

        
<div class="section">
<h2><a name="Adding_a_new_DBMS_implementation"></a>Adding a new DBMS implementation</h2>
            
<div class="section">
<div class="section">
<h4><a name="a1._Create_and_setup_a_blank_DB_schema_to_run_your_tests_against"></a>1. Create and setup a blank DB schema to run your tests against</h4>
            
<p>Obevo will run tests against actual DBMSs that have schemas dedicated to Obevo.</p>
            
<p>Get a schema to facilitate your testing</p>
            </div>
<div class="section">
<h4><a name="a2._Create_a_new_module_obevo-db-dbmsName"></a>2. Create a new module obevo-db-&lt;dbmsName&gt;</h4>
            
<p>You can use obevo-db-db2 or obevo-db-postgresql as examples</p>
            </div>
<div class="section">
<h4><a name="a3._Implement_the_classes_required_to_do_a_basic_incremental_deployment_for_simple_objects_like_tables"></a>3. Implement the classes required to do a basic incremental deployment for simple objects like tables
            </h4>
            
<p>These classes revolve around setting up the JDBC parameters and such:</p>
            
<ul>
                
<li>AppContext, DbType, Dialect, DataSourceFactory, and SqlExecutor implementations (refer to the
                    example
                    for the exact names)
                </li>
            </ul>
            
<p>Also implement a DbMetadataDialect for your new implementation in obevo-schemacrawler</p>
            
<p>Start w/ tables for now; we will get to stored procedures/views/etc. later</p>
            </div>
<div class="section">
<h4><a name="a4._Implement_an_integration_test_in_your_module"></a>4. Implement an integration test in your module</h4>
            
<p>Follow the examples, e.g. PostgreSqlDeployerIT</p>
            
<p>Most examples will have a &quot;step1&quot; and &quot;step2&quot; - the idea is to do the initial
                deployment
                and then a subsequent update so that you can vet both cases
            </p>
            </div>
<div class="section">
<h4><a name="a5._Add_support_for_the_other_DB_Object_types_e.g._stored_procedures_views_static_data"></a>5. Add support for the other DB Object types, e.g. stored procedures, views, static data</h4>
            
<p>etc.</p>
            </div>
<div class="section">
<h4><a name="a6._Add_the_-cleanFirst_command_to_your_test_to_vet_out_the_cleaning_command"></a>6. Add the -cleanFirst command to your test to vet out the cleaning command</h4>
            
<p>Note that some of the DBMS types require specific sqls to query out the db objects that schemacrawler
                cannot
                get to. This would be declared in the *AppContext class if applicable
            </p>
            </div>
<div class="section">
<h4><a name="a7._Add_reverse-engineering_support"></a>7. Add reverse-engineering support</h4>
            
<ol style="list-style-type: decimal">
                
<li>Run the steps in the user guide for reverse-engineering from Aqua</li>
                
<li>Try the AquaRevengTest for your module to ensure that the code can get formatted into the right
                    structure
                </li>
                
<li>Modify the code as needed to get it to work (most of the work is just in parsing the text for the
                    object
                    names, and at this point, hopefully should not require much changes at this point for new DBMS's)
                </li>
            </ol>
        </div></div></div>
    

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2017
                        <a href="http://www.goldmansachs.com/">Goldman Sachs</a>.
            All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
